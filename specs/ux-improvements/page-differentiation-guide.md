# Page Differentiation Guide - PSI报表 vs 算法验证

**目的：** 消除用户对PSI报表和算法验证页面的功能混淆
**目标受众：** 产品经理、开发团队、最终用户培训材料

---

## 核心原则：时间视角决定页面选择

```
┌─────────────────────────────────────────────────────────────┐
│                    时间轴 Timeline                           │
├─────────────────┬──────────┬─────────────────────────────────┤
│   Past 12 Weeks │  Current │  Future 12 Weeks                │
│   (历史数据)     │  Week    │  (规划数据)                     │
├─────────────────┴──────────┴─────────────────────────────────┤
│  📊 PSI报表      │    ←     │                                 │
│  "What Happened"│          │                                 │
│  库存周转分析    │          │                                 │
└─────────────────┴──────────┴─────────────────────────────────┘
                   │    →     │  🔍 算法验证                    │
                   │          │  "What Should Happen"          │
                   │          │  补货计划验证                   │
                   └──────────┴─────────────────────────────────┘
```

**Rule of Thumb:**
- **看过去 → PSI报表**
- **看未来 → 算法验证**

---

## 快速决策树

```
用户问题分类决策流程：

START: 我需要回答什么问题？
│
├─ 问题涉及【历史数据分析】？
│  ├─ "过去3个月库存周转率是多少？"       → PSI报表
│  ├─ "上周为什么断货了？"                → PSI报表
│  ├─ "Q4实际销量vs预测的差异？"          → PSI报表
│  └─ 需要导出给财务/管理层？              → PSI报表
│
├─ 问题涉及【未来采购规划】？
│  ├─ "这批PO什么时候能到仓？"            → 算法验证
│  ├─ "下周应该下多少单？"                → 算法验证
│  ├─ "系统建议的补货量准确吗？"          → 算法验证
│  └─ "如果我不下单，4周后会断货吗？"    → 算法验证（What-if分析）
│
└─ 问题涉及【当前库存状态】？
   ├─ 需要历史趋势分析                    → PSI报表
   └─ 需要未来预测投影                    → 算法验证
```

---

## 功能对比矩阵（详细版）

| 对比维度 | 📊 PSI报表 | 🔍 算法验证 |
|---------|-----------|------------|
| **英文名称** | Production-Sales-Inventory Table | Replenishment Plan Validator |
| **中文全称** | 进销存周报表 | 补货计划验证/算法审计 |
| **核心问题** | What happened? (发生了什么) | What should we do? (应该怎么做) |
| **时间范围** | 默认：过去12周 | 默认：当前周+未来12周 |
| **数据类型** | 实际数据优先（Actuals First） | 预测数据驱动（Forecast Driven） |
| **关键指标** | 期初库存、期末库存、库存周转率 | 建议下单量、实际下单量、下单缺口 |
| **决策输出** | 库存健康状态：OK/Risk/Stockout | 采购决策：需补单量、到货时间 |
| **典型用户** | 供应链分析师、财务、管理层 | 采购经理、需求计划员 |
| **导出功能** | Excel导出（财务对账） | 不适用（规划工具） |
| **编辑权限** | 只读（历史不可改） | 只读（但可触发订单创建） |
| **刷新频率** | 每日/每周（基于实际入库） | 实时（基于预测和PO变更） |
| **关联操作** | 无直接操作（分析性质） | 可跳转到创建PO页面 |
| **可视化重点** | 趋势图（历史走势） | 时间轴（Lead Time分解） |

---

## 数据来源对比

### PSI报表 - 数据流

```
┌─────────────────┐
│ 实际出入库记录   │ ← Production Deliveries (实际出厂)
│ (Primary Source)│ ← Shipments (实际发货/到仓)
└────────┬────────┘ ← Sales Actuals (实际销量)
         │
         ├─ 如果缺失实际数据 → 使用预测数据（标记为Projected）
         │
         ↓
┌────────────────────────────────┐
│ PSI计算引擎                     │
│ - 期初库存 = 上周期末库存       │
│ - 本周到货 = 实际到仓 || 预计   │
│ - 本周销量 = 实际销量 || 预测   │
│ - 期末库存 = 期初+到货-销量     │
└────────────────────────────────┘
         ↓
    PSI报表展示
```

### 算法验证 - 数据流

```
┌─────────────────┐
│ 销量预测         │ ← Sales Forecasts (周度预测)
│ (Primary Source)│ ← Product Lead Times (产品周期)
└────────┬────────┘ ← Purchase Order Items (实际下单)
         │
         ├─ 倒推计算：需求周 - 总周期 = 建议下单周
         ├─ 正推计算：下单周 + 生产周期 = 预计出厂周
         │             出厂周 + 装柜周期 = 预计发货周
         │             发货周 + 物流周期 = 预计到仓周
         ↓
┌────────────────────────────────┐
│ 双向计算引擎                    │
│ - 倒推：Demand → Order          │
│ - 正推：Order → Arrival         │
│ - 对比：Suggested vs Actual     │
└────────────────────────────────┘
         ↓
    算法验证展示
```

**关键差异：**
- PSI报表：基于**实际发生的事实**（Actuals），追溯过去
- 算法验证：基于**预测和计划**（Forecasts & Plans），预判未来

---

## UI设计差异化建议

### PSI报表 - 财务分析风格

**配色方案：**
- 主色调：绿色系（#22C55E）+ 蓝色系（#3B82F6）
- 强调稳重、准确、可信赖
- 使用表格线条，类似Excel/财务报表风格

**关键UI元素：**
```
┌─────────────────────────────────────────────────────┐
│ 📊 库存周转报表 Inventory Turnover Report           │
│ --------------------------------------------------- │
│ 📅 时间范围：[2025-W38] 至 [2025-W49] (过去12周)    │
│ 🏷️  SKU筛选：[全部 ▼]  仓库：[全部 ▼]              │
│                                    [📥 导出Excel]   │
├─────────────────────────────────────────────────────┤
│ 💡 使用建议：                                        │
│ ✓ 查看历史库存变化趋势                               │
│ ✓ 计算库存周转率和断货天数                           │
│ ✓ 导出数据用于财务对账和管理汇报                     │
├─────────────────────────────────────────────────────┤
│ Week  │ 期初库存 │ 实际到仓 │ 实际销量 │ 期末库存 │ 状态 │
│ W38   │  5000   │   1200  │   1500  │  4700   │ ✅  │
│ ...   │   ...   │    ...  │    ...  │   ...   │ ... │
└─────────────────────────────────────────────────────┘
```

### 算法验证 - 规划工具风格

**配色方案：**
- 主色调：橙色系（#F97316）+ 紫色系（#A855F7）
- 强调前瞻、动态、智能
- 使用卡片式布局，突出关键决策点

**关键UI元素：**
```
┌─────────────────────────────────────────────────────┐
│ 🔍 补货计划验证 Replenishment Plan Validator         │
│ --------------------------------------------------- │
│ 📅 规划周期：[2025-W49] 至 [2025-W60] (当前+12周)   │
│ 🏷️  SKU：[SKU-001 ▼]  物流周期：[4周 ▼]            │
│                                    [⚙️ 运行模拟]    │
├─────────────────────────────────────────────────────┤
│ 💡 使用建议：                                        │
│ ✓ 验证系统下单建议是否符合预期                       │
│ ✓ 预测已下订单的到仓时间                             │
│ ✓ 发现下单缺口，及时创建补充采购订单                 │
├─────────────────────────────────────────────────────┤
│ ⏱️ Lead Times                                       │
│ 🟠 生产：4周 │ 🟡 装柜：1周 │ 🔵 物流：4周 │ 总：9周 │
├─────────────────────────────────────────────────────┤
│ Week │ 预测需求 │ 建议下单 ⬅️ │ 实际下单 │ 缺口 │    │
│ W49  │   1500  │    1500    │   1200  │-300 │ ⚠️ │
│ W50  │   1600  │    1600    │   1600  │  0  │ ✅ │
│ ...  │   ...   │    ...     │    ...  │ ... │ ...│
└─────────────────────────────────────────────────────┘
```

---

## 页面间导航逻辑

### 场景1：从PSI报表发现断货 → 跳转到算法验证

```
用户在PSI报表看到：
┌────────────────────────────┐
│ Week W48 │ 期末库存: 0 🔴 │  ← 用户发现断货
└────────────────────────────┘

点击行 → 弹出快捷菜单：
┌─────────────────────────────────────┐
│ 💡 发现问题？快速跳转到相关工具：    │
│ ➡️ 查看该SKU的未来补货计划（算法验证）│
│ ➡️ 查看该SKU的需求覆盖率              │
│ ➡️ 创建紧急采购订单                  │
└─────────────────────────────────────┘
```

### 场景2：从算法验证发现缺口 → 创建PO

```
用户在算法验证看到：
┌─────────────────────────────────────┐
│ W49 │ 建议下单: 1500 │ 实际: 1200 │  ← 缺口300
│     │ 缺口: -300 ⚠️                 │
└─────────────────────────────────────┘

点击 "缺口" 单元格 → 弹出操作菜单：
┌─────────────────────────────────────┐
│ ⚠️ 检测到下单不足                   │
│ 建议操作：                           │
│ [➕ 创建补充订单 300件]              │
│ [📊 查看该周需求覆盖详情]            │
│ [❌ 忽略（我知道我在做什么）]        │
└─────────────────────────────────────┘
```

---

## 用户培训材料速查表

### 给需求计划员（Demand Planner）

| 我想做什么... | 应该用哪个页面 | 为什么 |
|--------------|---------------|--------|
| 更新未来4周的销量预测 | ⚠️ 都不是！→ 去"销量预测管理" | PSI和算法验证都是只读页面 |
| 看上个月预测准确率 | PSI报表 | 对比实际销量 vs 预测销量 |
| 验证系统补货建议 | 算法验证 | 查看建议下单是否合理 |

### 给采购经理（Purchase Manager）

| 我想做什么... | 应该用哪个页面 | 为什么 |
|--------------|---------------|--------|
| 这批PO什么时候到？ | 算法验证 | 正推计算到仓时间 |
| 上周下的单为什么还没到？ | PSI报表 + 物流管理 | 查看实际到货记录 |
| 下周应该下多少单？ | 算法验证 | 查看建议下单量 |
| 检查是否有漏单情况 | 算法验证（看缺口列） | 对比建议vs实际 |

### 给供应链分析师（SC Analyst）

| 我想做什么... | 应该用哪个页面 | 为什么 |
|--------------|---------------|--------|
| 计算Q4库存周转率 | PSI报表 | 历史数据完整 |
| 分析断货根本原因 | PSI报表 + 算法验证 | 结合历史和计划对比 |
| 优化Lead Time设置 | 算法验证 | 查看当前Lead Time拆解 |
| 给老板做周报 | PSI报表 | 导出Excel功能 |

---

## 常见误区纠正

### ❌ 错误认知1："PSI报表和算法验证是同一个功能的两个版本"
**✅ 正确理解：** 这是两个服务不同决策场景的独立工具：
- PSI报表 = 后视镜（Rear-view Mirror） - 看你已经走过的路
- 算法验证 = 导航仪（GPS Navigator） - 规划你即将走的路

### ❌ 错误认知2："我可以在PSI报表里看到未来12周的预测"
**✅ 正确理解：** PSI报表主要展示历史实际数据，只有在缺失实际数据时才用预测值填补（会标记为"Projected"）。如果你想看未来规划，请用算法验证。

### ❌ 错误认知3："算法验证的数据比PSI报表更准确"
**✅ 正确理解：** 准确性不是对比点：
- PSI报表基于已发生的事实，准确性取决于入库记录的及时性
- 算法验证基于预测和Lead Time参数，准确性取决于预测质量和参数设置

### ❌ 错误认知4："我只需要用其中一个页面就够了"
**✅ 正确理解：** 两个页面形成完整的"分析-决策-验证"闭环：
1. 用PSI报表发现问题（例如：上周断货了）
2. 用算法验证找原因（是因为下单不足？还是Lead Time估计错误？）
3. 调整采购计划（创建PO或修改预测）
4. 下周再用PSI报表验证是否改善

---

## 设计改版检查清单

在实施页面差异化改版时，请确保以下所有项都完成：

### PSI报表改版 Checklist
- [ ] 页面标题改为："库存周转报表 (Inventory Turnover Report)"
- [ ] 添加帮助文本："查看历史库存变化和销售表现，导出用于财务报表"
- [ ] 默认时间范围改为"过去12周"
- [ ] 添加"导出Excel"按钮（绿色，右上角显眼位置）
- [ ] 配色方案改为绿/蓝财务风格
- [ ] 添加库存周转率计算列（可选，Phase 2）
- [ ] 添加断货天数统计（可选，Phase 2）
- [ ] 添加"何时使用此页面 vs 算法验证"的对比卡片

### 算法验证改版 Checklist
- [ ] 页面标题改为："补货计划验证 (Replenishment Plan Validator)"
- [ ] 添加帮助文本："验证采购建议，预测到仓时间，发现下单缺口"
- [ ] 默认时间范围改为"当前周 + 未来12周"
- [ ] 添加"运行模拟"按钮（橙色，右上角）
- [ ] 配色方案改为橙/紫规划风格
- [ ] Lead Time分解可视化（时间轴图，可选）
- [ ] 添加"快速创建PO"快捷操作（点击缺口单元格）
- [ ] 添加"何时使用此页面 vs PSI报表"的对比卡片

### 通用改进 Checklist
- [ ] 两个页面之间添加互相跳转的快捷入口
- [ ] 编写用户培训文档（基于本文档）
- [ ] 在帮助中心添加视频教程（可选）
- [ ] 进行A/B测试，收集用户反馈
- [ ] 更新系统导航栏的图标和分类（PSI放入"报表"，算法验证放入"规划"）

---

**文档版本：** 1.0
**最后更新：** 2025-12-11
**维护者：** Product Director
**下次审查：** 实施改版后收集用户反馈
